{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Giulio Pierini Photography</title>
        <link rel="shortcut icon" href="{% static 'favicon/favicon_g.svg' %}"/>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="{% static '/css/menu.css' %}">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body onload="myFunction()">
        <!-- menu -->
        <div class="menu">

            <div class="column about_page">
                <video class="video" autoplay muted loop>
                    <source src="{% static '/video/about.mp4' %}" type="video/mp4" />
                </video>
                <a class="overlay" href="{% url 'about' %}">
                    about
                </a>
            </div>

            <div class="column portfolio_page">
                <video class="video" autoplay muted loop>
                    <source src="{% static '/video/portfolio.mp4' %}" type="video/mp4" />
                </video>
                <a class="overlay" href="{% url 'portfolio' %}">
                    portfolio
                </a>
            </div>

            <div class="column contacts_page">
                <video class="video" autoplay muted loop>
                    <source src="{% static '/video/contact.mp4' %}" type="video/mp4" />
                </video>
                <a class="overlay" href="{% url 'contacts' %}">
                    contacts
                </a>
            </div>

        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script>
            // script modifica lo sfondo sotto i 650px
            // controlla se sei sotto i 650px
            if(window.innerWidth < 650){
                // leva tutti e tre i video
                var videos = document.getElementByClassName("video")
                while(videos.length > 0) videos[0].remove()
                // aggiungi video come sfondo a menu
                // crea source
                var path = '/video/portfolio.mp4';
                var type = 'video/mp4';
                var src = "<source src='{% static" + path + "%} type=" + type + " /></video>";
                //crea video tag
                var video = '<video class="video" autoplay muted loop>' + src + '</video>';
                video.appendTo(document.getElementByClassName('menu'));
            }
        </script>
        <script>
            //check browser type if safari or firefox
            // togli i video tag nelle column 
            // aggiungi gifs come sfondo alle pagine
            function myFunction() { 
                if((navigator.userAgent.indexOf("Opera") || navigator.userAgent.indexOf('OPR')) != -1 ) 
                {
                   
                }
                else if(navigator.userAgent.indexOf("Chrome") != -1 )
                {
                   
                }
                else if(navigator.userAgent.indexOf("Safari") != -1)
                {
                    var videos = document.getElementByClassName('video');
                    while(videos.length > 0) videos[0].remove();
                    document.getElementByClassName('about_page').style.backgroundImage = "url({% static '/video/about.gif' %})";
                    document.getElementByClassName('about_page').style.backgroundSize = "cover";

                    document.getElementByClassName('portfolio_page').style.backgroundImage = "url({% static '/video/portfolio.gif' %})";
                    document.getElementByClassName('.portfolio_page').style.backgroundSize = "cover";
                    
                    document.getElementByClassName('contacts_page').style.backgroundImage = "url({% static '/video/contact.gif' %})";
                    document.getElementByClassName('contacts_page').style.backgroundSize = "cover";
                    
                }
                else if(navigator.userAgent.indexOf("Firefox") != -1 ) 
                {
                    var videos = document.getElementByClassName('video');
                    while(videos.length > 0) videos[0].remove();
                    document.getElementByClassName('about_page').style.backgroundImage = "url({% static '/video/about.gif' %})";
                    document.getElementByClassName('about_page').style.backgroundSize = "cover";

                    document.getElementByClassName('portfolio_page').style.backgroundImage = "url({% static '/video/portfolio.gif' %})";
                    document.getElementByClassName('.portfolio_page').style.backgroundSize = "cover";
                    
                    document.getElementByClassName('contacts_page').style.backgroundImage = "url({% static '/video/contact.gif' %})";
                    document.getElementByClassName('contacts_page').style.backgroundSize = "cover";
                    
                }
                else if((navigator.userAgent.indexOf("MSIE") != -1 ) || (!!document.documentMode == true )) //IF IE > 10
                {
                    
                }  
                else 
                {
                    
                }
            }
            </script>
    </body>
</html>